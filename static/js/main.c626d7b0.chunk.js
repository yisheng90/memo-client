(this["webpackJsonpmemo-client"]=this["webpackJsonpmemo-client"]||[]).push([[0],[,,,,,,,,,,,,,function(e,t,n){e.exports=n(31)},,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(12),o=n.n(c),i=n(2),u=n(5),s=n(6),l=n(4),d=n(3),f=n.n(d),b=n(7),p="http://localhost:9000",m={Accept:"application/json","Content-Type":"application/json"},v=n(8);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var h=["Date","Title"],j=function(e,t){return new Date(e.created_date).getTime()-new Date(t.created_date).getTime()},y=function(e,t){var n=e.title.toLowerCase(),a=t.title.toLowerCase();return n>a?1:n<a?-1:0},E=function(e){var t=Object(a.useState)({field:h[0],sortable:!0}),n=Object(i.a)(t,2),r=n[0],c=n[1],o=Object(a.useCallback)((function(e){return c((function(t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(n,!0).forEach((function(t){Object(v.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{},e)}))}),[]),u=e;return e[0]&&e[0].title&&r.sortable&&(u="Title"===r.field?e.sort(y):e.sort(j)),{sortedIdeas:u,sortField:r.field,disableSorting:function(){return o({sortable:!1})},enableSorting:function(){return o({sortable:!0})},updateSortingField:function(e){return o({field:e})}}},g=(n(24),function(e){var t=e.message,n=e.onCancel;return r.a.createElement("div",{className:"notification__card","data-testid":"notification__card"},t,r.a.createElement("span",{className:"notification__card--close",onClick:n,"data-testid":"notification__card--close"},r.a.createElement(u.a,{icon:s.b,size:"xs"})))}),_=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),n=t[0],c=t[1],o=function(){return c((function(e){return e.pop(),Object(l.a)(e)}))};return Object(a.useEffect)((function(){if(n.length>0){var e=setInterval(o,3e3);return function(){return clearInterval(e)}}}),[n]),{notify:function(e){return c((function(t){return[e].concat(Object(l.a)(t))}))},Notification:function(){return r.a.createElement("div",{className:"notification__container"},n.map((function(e,t){return r.a.createElement(g,{message:e,onCancel:function(){return e=t,c((function(t){return t=t.filter((function(t,n){return n!==e})),Object(l.a)(t)}));var e}})})))}}},w=(n(25),n(26),n(27),function(e){var t=e.defaultValue,n=void 0===t?"":t,c=e.onBlur,o=e.onFocus,u=Object(a.useState)(n),s=Object(i.a)(u,2),l=s[0],d=s[1],f=Object(a.useState)(!1),b=Object(i.a)(f,2),p=b[0],m=b[1],v=function(){return m(140-l.length<15)},O=function(){m(!1),c(l)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("textarea",{"data-testid":"textarea",value:l||"",onFocus:function(){v(),o()},onChange:function(e){e.target.value.length<=140&&d(e.target.value),v()},onBlur:function(){return O()}}),p&&r.a.createElement("span",{className:"textarea__word_counter","data-testid":"word_count"},l.length,"/",140))}),S=(n(28),function(e){var t=e.defaultValue,n=void 0===t?"":t,c=e.onBlur,o=e.onFocus,u=Object(a.useState)(n),s=Object(i.a)(u,2),l=s[0],d=s[1],f=Object(a.useRef)(null),b=Object(a.useCallback)((function(e){return d(e.target.value)}),[]);return Object(a.useEffect)((function(){!l&&f.current&&f.current.focus()}),[l]),r.a.createElement("input",{"data-testid":"input",ref:f,value:l,onFocus:o,onChange:b,onBlur:function(){return c(l)},placeholder:"Title"})});function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(n,!0).forEach((function(t){Object(v.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C=function(e){var t=e.idea,n=e.onDelete,c=e.onUpdate,o=e.enableSort,l=e.disableSort,d=Object(a.useState)(!1),f=Object(i.a)(d,2),b=f[0],p=f[1],m=new Date(t.created_date).toLocaleString(),v=Object(a.useCallback)((function(e){e!==t.title&&c(x({},t,{},{title:e})),o()}),[t,c,o]),O=Object(a.useCallback)((function(e){e!==t.body&&c(x({},t,{},{body:e})),o()}),[t,c,o]);return r.a.createElement("div",{"data-testid":"card__container",className:"card__container ".concat(!t.title&&"card__container--empty"),onMouseMove:function(){return p(!0)},onMouseLeave:function(){return p(!1)}},r.a.createElement(S,{defaultValue:t.title,onFocus:l,onBlur:v,placeholder:"Title"}),r.a.createElement("span",{className:"card__details--date","data-testid":"card__details--date"},m),r.a.createElement(w,{defaultValue:t.body,onBlur:O,onFocus:l}),b&&r.a.createElement(u.a,{icon:s.c,size:"xs",className:"card__action--delete","data-testid":"card__action--delete",onClick:function(){return n(t.id)}}))},N=(n(29),function(e){var t=e.disabled,n=e.onClick,a=e.children;return r.a.createElement("button",{"data-testid":"button",className:"button__primary",disabled:t,onClick:n},a)}),P=(n(30),function(e){var t=e.options,n=e.selectedValue,a=e.onChange;return r.a.createElement("select",{"data-testid":"select",className:"select",value:n,onChange:function(e){return a(e.target.value)}},t.map((function(e){return r.a.createElement("option",{key:e,value:e},e)})))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement((function(){var e=_(),t=e.Notification,n=function(e){var t=r.a.useState([]),n=Object(i.a)(t,2),c=n[0],o=n[1],u=c.find((function(e){return!e.title})),s=function(){var e=Object(b.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(p,"/ideas"));case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,o(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Object(b.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!u){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,fetch("".concat(p,"/ideas"),{method:"POST",headers:m});case 4:return t=e.sent,e.next=7,t.json();case 7:(n=e.sent)&&o((function(e){return[n].concat(Object(l.a)(e))}));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(b.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(p,"/idea/").concat(t),{method:"DELETE"});case 2:return n=e.sent,e.next=5,n.json();case 5:e.sent.success&&o((function(e){return e.filter((function(e){return e.id!==t}))}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var t=Object(b.a)(f.a.mark((function t(n){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(p,"/idea/").concat(n.id),{method:"PUT",headers:m,body:JSON.stringify({title:n.title,body:n.body})});case 2:return a=t.sent,t.next=5,a.json();case 5:t.sent.success&&(o((function(e){var t=e.findIndex((function(e){return e.id===n.id}));return e[t]=n,Object(l.a)(e)})),e("".concat(n.title," has been updated!")));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){s()}),[]),{ideas:c,haveEmptyIdea:u,addIdea:d,deleteIdea:v,updateIdea:O}}(e.notify),c=n.ideas,o=n.haveEmptyIdea,d=n.addIdea,v=n.deleteIdea,O=n.updateIdea,j=E(c),y=j.sortedIdeas,g=j.sortField,w=j.disableSorting,S=j.enableSorting,k=j.updateSortingField,x=Object(a.useState)("100%"),D=Object(i.a)(x,2),I=D[0],F=D[1],T=Object(a.useRef)(null),B=function(){var e=Math.floor(T.current.offsetWidth/170);F("".concat(170*e,"px"))};Object(a.useEffect)((function(){return B(),window.addEventListener("resize",(function(){return B()})),function(){return window.removeEventListener("resize",(function(){return B()}))}}),[]);var L=y.map((function(e){return r.a.createElement(C,{idea:e,key:e.id,disableSort:w,enableSort:S,onDelete:v,onUpdate:O})}));return r.a.createElement("div",{className:"dashboard","data-testid":"dashboard"},r.a.createElement("header",{className:"header_container"},r.a.createElement("h1",null,"Idea Board")),r.a.createElement(t,null),r.a.createElement("div",{className:"cards_action__container"},r.a.createElement(N,{disabled:o,onClick:d},"+ New idea"),r.a.createElement(P,{options:h,onChange:k,selectedValue:g})),r.a.createElement("div",{className:"cards__container",ref:T},r.a.createElement("div",{className:"cards__container--inner",style:{width:"".concat(I)}},y.length>0&&L,0===y.length&&r.a.createElement("div",{className:"cards__container--placeholder"},r.a.createElement(u.a,{icon:s.a,size:"2x"}),r.a.createElement("h3",null,"We're sorry. Your idea board is empty.")))))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[13,1,2]]]);
//# sourceMappingURL=main.c626d7b0.chunk.js.map